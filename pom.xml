<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>com.atlassian.k8s</groupId>
        <artifactId>k8s-ci</artifactId>
        <version>1.4-SNAPSHOT</version>
    </parent>

    <artifactId>helm</artifactId>

    <properties>
        <dockerImage.registry />
        <dockerImage.version />

        <helm.src.path>${project.basedir}/src/main/charts</helm.src.path>

        <helm.release.prefix>${user.name}</helm.release.prefix>

        <log.download.dir>${project.build.directory}/logs</log.download.dir>

        <kubernetes.target.namespace>dcng</kubernetes.target.namespace>

        <kubernetes.ingress.domain>internal.shared-dev.us-west-2.kitt-inf.net</kubernetes.ingress.domain>
        <kitt.ingress.domain>${kubernetes.ingress.domain}</kitt.ingress.domain>
        <eks.ingress.domain>dcngkube.bbsperf.com</eks.ingress.domain>
    </properties>

    <build>
        <testResources>
            <testResource>
                <!-- Apply filtering to the helm CI config, to substitute various properties -->
                <directory>src/test/config</directory>
                <filtering>true</filtering>
                <targetPath>${project.build.directory}/config</targetPath>
            </testResource>
        </testResources>
    </build>

    <profiles>
        <profile>
            <id>custom-docker-image</id>
            <properties>
                <dockerImage.registry>docker.atl-paas.net</dockerImage.registry>
                <dockerImage.version>${user.name}</dockerImage.version>
            </properties>
        </profile>
    </profiles>

</project>
